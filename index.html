<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ж╗ЉТ▓ЎТѕ┐т▒ІУ│ЄТќЎу»ЕжЂИтЎе</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/papaparse@5.3.2/papaparse.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <script defer src="script.js"></script>
</head>

<body>

    <div id="app" class="container">
        <h1>­ЪЈа ж╗ЉТ▓ЎТѕ┐т▒ІУ│ЄТќЎу»ЕжЂИУАе</h1>
        <!-- у»ЕжЂИтЇђтАі -->
        <div class="filters">
            <div class="filter-item">
                <label>тю░тЇђ</label>
                <select v-model="selectedRegion">
                    <option value="">тЁежЃежА»уц║</option>
                    <option v-for="item in uniqueRegions" :key="item" :value="item">{{ item }}</option>
                </select>
            </div>
            <div class="filter-item">
                <label>ТЮЉУјі</label>
                <select v-model="selectedVillage">
                    <option value="">тЁежЃежА»уц║</option>
                    <option v-for="item in uniqueVillages" :key="item" :value="item">{{ item }}</option>
                </select>
            </div>
            <div class="filter-item">
                <label>ућежђћ</label>
                <div style="display: flex; gap: 5px; align-items: center;">
                    <select v-model="selectedUsage">
                        <option value="">тЁежЃежА»уц║</option>
                        <option v-for="item in uniqueUsages" :key="item" :value="item">{{ item }}</option>
                    </select>
                    <button @click="resetFilters" style="padding: 8px 12px; cursor: pointer;">жЄЇуй«</button>
                </div>
            </div>
            <div class="filter-item" style="justify-content: flex-end; margin-left: auto;">
                <span>тЁ▒ТЅЙтѕ░ <strong>{{ filteredData.length }}</strong> уГєУ│ЄТќЎ</span>
            </div>
        </div>

        <table>
            <!-- УАеТа╝ТеЎжАї -->
            <thead>
                <tr>
                    <th @click="sortBy('тю░тЇђ')">тю░тЇђ <span class="sort-icon">{{ getSortIcon('тю░тЇђ') }}</span></th>
                    <th @click="sortBy('ТЮЉУјі')">ТЮЉУјі <span class="sort-icon">{{ getSortIcon('ТЮЉУјі') }}</span></th>
                    <th @click="sortBy('тљЇуе▒')">тљЇуе▒ <span class="sort-icon">{{ getSortIcon('тљЇуе▒') }}</span></th>
                    <th @click="sortBy('У▓буЇ╗')">У▓буЇ╗ <span class="sort-icon">{{ getSortIcon('У▓буЇ╗') }}</span></th>
                    <th @click="sortBy('ућежђћ')">ућежђћ <span class="sort-icon">{{ getSortIcon('ућежђћ') }}</span></th>
                    <th @click="sortBy('ућежђћуГЅу┤џ')">уГЅу┤џ <span class="sort-icon">{{ getSortIcon('ућежђћуГЅу┤џ') }}</span></th>
                    <th @click="sortBy('Та╝ТЋИ')">Та╝ТЋИ <span class="sort-icon">{{ getSortIcon('Та╝ТЋИ') }}</span></th>
                    <th @click="sortBy('CPтђ╝')">CPтђ╝ <span class="sort-icon">{{ getSortIcon('CPтђ╝') }}</span></th>
                </tr>
            </thead>
            <!-- УАеТа╝тЁДт«╣ -->
            <tbody>
                <tr v-for="(row, index) in filteredData" :key="index">
                    <td>{{ row['тю░тЇђ'] }}</td>
                    <td>{{ row['ТЮЉУјі'] }}</td>
                    <td>{{ row['тљЇуе▒'] }}</td>
                    <td>{{ row['У▓буЇ╗'] }}</td>
                    <td>{{ row['ућежђћ'] }}</td>
                    <td>{{ row['ућежђћуГЅу┤џ'] }}</td>
                    <td>{{ row['Та╝ТЋИ'] }}</td>
                    <td>{{ row['CPтђ╝'] }}</td>
                </tr>
                <tr v-if="filteredData.length === 0">
                    <td colspan="8" style="text-align: center; padding: 20px;">Т▓њТюЅугдтљѕу»ЕжЂИТбЮС╗ХуџёУ│ЄТќЎ</td>
                </tr>
            </tbody>
        </table>
    </div>
</body>

</html>